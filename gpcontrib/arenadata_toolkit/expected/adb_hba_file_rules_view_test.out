CREATE EXTENSION arenadata_toolkit;
SET search_path = arenadata_toolkit;
-- save pg_hba.conf
\! mv -f $MASTER_DATA_DIRECTORY/pg_hba.conf $MASTER_DATA_DIRECTORY/pg_hba.conf.back
-- fill pg_hba.conf with test entry
\! echo "local    all    all    trust" >> $MASTER_DATA_DIRECTORY/pg_hba.conf
-- test pg_hba.conf filling
SELECT * FROM adb_hba_file_rules_view;
 line_number | type  | database | user_name | address | netmask | auth_method | options | error 
-------------+-------+----------+-----------+---------+---------+-------------+---------+-------
           1 | local | {all}    | {all}     |         |         | trust       |         | 
(1 row)

-- restore original pg_hba.conf
\! mv -f $MASTER_DATA_DIRECTORY/pg_hba.conf.back $MASTER_DATA_DIRECTORY/pg_hba.conf
DROP EXTENSION arenadata_toolkit;
DROP SCHEMA arenadata_toolkit CASCADE;
